<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kubernetes on Learning</title>
    <link>http://example.org/kubernetes/</link>
    <description>Recent content in Kubernetes on Learning</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 10 Dec 2018 10:37:23 +0800</lastBuildDate>
    
	<atom:link href="http://example.org/kubernetes/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>01-配置代理</title>
      <link>http://example.org/kubernetes/01-%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86/</link>
      <pubDate>Mon, 10 Dec 2018 10:37:23 +0800</pubDate>
      
      <guid>http://example.org/kubernetes/01-%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86/</guid>
      <description>shadowsocks 科学上网 参考文档: https://www.zfl9.com/ss-local.html
ssserver 安装 # CentOS/RHEL yum -y install epel-release yum -y install python-pip pip install shadowsocks  配置 echo &amp;quot;{ &amp;quot;server&amp;quot;: &amp;quot;1.2.3.4&amp;quot;, &amp;quot;server_port&amp;quot;: 8989, &amp;quot;method&amp;quot;: &amp;quot;aes-128-cfb&amp;quot;, &amp;quot;password&amp;quot;: &amp;quot;123456&amp;quot;, &amp;quot;local_address&amp;quot;: &amp;quot;127.0.0.1&amp;quot;, &amp;quot;local_port&amp;quot;: 1080, &amp;quot;fast_open&amp;quot;: true, &amp;quot;workers&amp;quot;: 1 }&amp;quot; &amp;gt; /etc/shadowsocks.json ssserver -c /etc/shadowsocks.json -d start # 日志默认地址 /var/log/shadowsocks.log # 配置说明： { &amp;quot;server&amp;quot;: &amp;quot;1.2.3.4&amp;quot;, # 服务器IP &amp;quot;server_port&amp;quot;: 8989, # 服务器Port &amp;quot;method&amp;quot;: &amp;quot;aes-128-cfb&amp;quot;, # 加密方式 &amp;quot;password&amp;quot;: &amp;quot;123456&amp;quot;, # 端口密码 &amp;quot;local_address&amp;quot;: &amp;quot;127.</description>
    </item>
    
    <item>
      <title>02-docker安装</title>
      <link>http://example.org/kubernetes/02-docker%E5%AE%89%E8%A3%85/</link>
      <pubDate>Mon, 10 Dec 2018 10:37:23 +0800</pubDate>
      
      <guid>http://example.org/kubernetes/02-docker%E5%AE%89%E8%A3%85/</guid>
      <description>版本：docker17.03
官网安装指南: https://docs.docker.com/engine/installation/linux/centos/
安装 #如果存在，移除旧的docker yum remove docker docker-common container-selinux docker-selinux docker-engine rpm -e $(rpm -q docker-ce) #安装工具 yum install -y yum-utils #添加仓库 yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo yum makecache yum install -y policycoreutils-python #下载并安装docker-ce-selinux wget https://download.docker.com/linux/centos/7/x86_64/stable/Packages/docker-ce-selinux-17.03.2.ce-1.el7.centos.noarch.rpm rpm -ivh docker-ce-selinux-17.03.2.ce-1.el7.centos.noarch.rpm #查看docker-ce版本并且安装 yum list docker-ce --showduplicates | sort -r yum -y install docker-ce-17.03.2.ce  配置 修改service文件 主要修改 ExecStart 参数，添加一个 Environment 参数，用于设置docker的代理，拉取镜像
vi /usr/lib/systemd/system/docker.service  docker.service 模版 [Unit] Description=Docker Application Container Engine Documentation=https://docs.docker.com After=network.</description>
    </item>
    
    <item>
      <title>kubeadm安装</title>
      <link>http://example.org/kubernetes/03-kubeadm%E5%AE%89%E8%A3%85/</link>
      <pubDate>Mon, 10 Dec 2018 10:37:23 +0800</pubDate>
      
      <guid>http://example.org/kubernetes/03-kubeadm%E5%AE%89%E8%A3%85/</guid>
      <description>关闭防火墙 Selinux Swap systemctl stop firewalld systemctl disable firewalld [[ -f /etc/init.d/ufw ]] &amp;amp;&amp;amp; { ufw disable;} [[ -f /etc/init.d/iptables ]] &amp;amp;&amp;amp; { /etc/init.d/iptables stop; }  setenforce 0 sed -i &amp;quot;s/^SELINUX=enforcing/SELINUX=disabled/g&amp;quot; /etc/sysconfig/selinux sed -i &amp;quot;s/^SELINUX=enforcing/SELINUX=disabled/g&amp;quot; /etc/selinux/config sed -i &amp;quot;s/^SELINUX=permissive/SELINUX=disabled/g&amp;quot; /etc/sysconfig/selinux sed -i &amp;quot;s/^SELINUX=permissive/SELINUX=disabled/g&amp;quot; /etc/selinux/config  swapoff -a  #内核 cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/sysctl.d/k8s.conf net.ipv4.ip_forward = 1 net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 vm.swappiness=0 EOF sysctl -p /etc/sysctl.d/k8s.conf  添加kubernetes国内yum源 cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/yum.</description>
    </item>
    
    <item>
      <title>05-组件安装</title>
      <link>http://example.org/kubernetes/05-%E7%BB%84%E4%BB%B6%E5%AE%89%E8%A3%85/</link>
      <pubDate>Mon, 10 Dec 2018 10:37:23 +0800</pubDate>
      
      <guid>http://example.org/kubernetes/05-%E7%BB%84%E4%BB%B6%E5%AE%89%E8%A3%85/</guid>
      <description> Kubernetes-Dashboard 官网下载的yaml，rbac 没有权限访问，需要将 role改为 clusterrole
kubectl create -f kubernetes-dashboard.yaml  获取刚刚创建的 kubernetes-dashboard-token
kubectl describe -n kube-system secret/`kubectl -n kube-system get secret | grep kubernetes-dashboard-admin-token | awk &#39;{print $1}&#39;`  Prometheus 需要创建 ClusterRole, ServiceAccount, ClusterRoleBinding,ConfigMap,Deployment,Service
kubectl create -f prometheus.yaml  </description>
    </item>
    
    <item>
      <title>prometheus安装</title>
      <link>http://example.org/kubernetes/prometheus/</link>
      <pubDate>Mon, 10 Dec 2018 10:37:23 +0800</pubDate>
      
      <guid>http://example.org/kubernetes/prometheus/</guid>
      <description></description>
    </item>
    
    <item>
      <title>istio 安装</title>
      <link>http://example.org/kubernetes/istio/</link>
      <pubDate>Mon, 10 Dec 2018 10:37:23 +0800</pubDate>
      
      <guid>http://example.org/kubernetes/istio/</guid>
      <description></description>
    </item>
    
    <item>
      <title>README</title>
      <link>http://example.org/kubernetes/readme/</link>
      <pubDate>Mon, 10 Dec 2018 10:37:23 +0800</pubDate>
      
      <guid>http://example.org/kubernetes/readme/</guid>
      <description> 深入剖析Kubernetes 特别鸣谢： 脚本一键部署集群 https://github.com/XishengCai/cloud </description>
    </item>
    
    <item>
      <title></title>
      <link>http://example.org/kubernetes/04-kubernetes%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>http://example.org/kubernetes/04-kubernetes%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/</guid>
      <description>Kubernetes 集群搭建 kubeadm v1.12.2
kubernetes v1.12
初始化集群 可根据需求自定义 kubeadm yaml 文件 官网文档： https://godoc.org/k8s.io/kubernetes/cmd/kubeadm/app/apis/kubeadm/v1alpha3
# kubeadm init --config kubeadm.yaml kubeadm init --kubernetes-version=v1.12.2 --pod-network-cidr=10.244.0.0/16  注意：pod-network-cidr 设置的网段与后续要创建的 flannel 的 Network 一致
如果报错提示 [WARNING Hostname]: hostname &amp;ldquo;xxxxxx&amp;rdquo; could not be reached ,可在 /etc/hosts 配置主机名和ip
执行完之后，会提示执行如下命令： To start using your cluster, you need to run the following as a regular user:
mkdir -p $HOME/.kube sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config sudo chown $(id -u):$(id -g) $HOME/.</description>
    </item>
    
  </channel>
</rss>